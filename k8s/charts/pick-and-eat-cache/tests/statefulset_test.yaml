suite: StatefulSet tests
templates:
  - templates/statefulset.yaml
tests:
  - it: should set the correct name
    asserts:
      - equal:
          path: metadata.name
          value: pick-and-eat-cache

  - it: should set the correct image
    set:
      deployment.container.image: myimage:latest
    asserts:
      - equal:
          path: spec.template.spec.containers[0].image
          value: myimage:latest

  - it: should set the correct volume size
    set:
      volume.size: 2Gi
    asserts:
      - equal:
          path: spec.volumeClaimTemplates[0].spec.resources.requests.storage
          value: 2Gi
