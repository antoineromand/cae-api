suite: Service tests
templates:
  - templates/service.yaml
tests:
  - it: should set correct metadata.name
    asserts:
      - equal:
          path: metadata.name
          value: click-and-eat-cache-service

  - it: should set correct selector
    asserts:
      - equal:
          path: spec.selector.app
          value: click-and-eat-cache

  - it: should set type to NodePort
    set:
      service.type: NodePort
    asserts:
      - equal:
          path: spec.type
          value: NodePort

  - it: should expose correct port and targetPort
    asserts:
      - equal:
          path: spec.ports[0].port
          value: 6379
      - equal:
          path: spec.ports[0].targetPort
          value: 6379
